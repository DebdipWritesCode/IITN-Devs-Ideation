<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Portal 1</title>
	<script src="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.js"></script>
	<link type="text/css" rel="stylesheet" href="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.css" />
	<script src="https://api.mqcdn.com/sdk/place-search-js/v1.0.0/place-search.js"></script>
	<link type="text/css" rel="stylesheet" href="https://api.mqcdn.com/sdk/place-search-js/v1.0.0/place-search.css" />

	<script type="text/javascript">
		let latitude;
		let longitude;
		fetch('/findSpot')
			.then(response => response.json())
			.then(data => {
				latitude = data.latFormatted;
				longitude = data.lonFormatted;
				console.log("Latitude:", latitude);
				console.log("Longitude:", longitude);
				// Now you can use latitude and longitude variables as needed
			})
			.catch(error => console.error('Error:', error));
		window.onload = function () {
			L.mapquest.key = 'dZkVRxibBNjIzj279viNyUC2vEEYKFUl';

			var map = L.mapquest.map('map', {
				center: [22.5414, 88.3577],
				layers: L.mapquest.tileLayer('map'),
				zoom: 17
			});

			map.addControl(L.mapquest.control());
		}
	</script>
	<link rel="stylesheet" href="css/findSpot.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
	<h1 style="text-align: center; color:black; margin-top: 20px;">THE URBAN PARKING CODE</h1>
	<div id="contentbox">
		<div id="mapdiv">

			<div id="map" style="width: 100%; height: 530px;"></div>

		</div>
		<div class="park-box" id="one">
			<img src="images/park.png" class="park" alt="">
		</div>
		<div class="park-box">
			<img src="images/park.png" class="park" id="two" alt="">
		</div>
		<div class="park-box" id="three">
			<img src="images/park.png" class="park" alt="">
		</div>
		<div id="info">
			<form action="/findSpot" method="POST">
				<br>

				<label for="loc1" style="font-size: 30px; margin-left: 15px; color: black; ">From:</label>
				<input type="search" id="loc1" name="loc1" class="inputbox" placeholder="ex. Your location"
					style="margin-left: 15px; "><br><br>
				<input type="submit" id="submit-btn" value="Submit"
					style="margin-left: 110px; height: 40px;  width: 90px; border-radius: 15%; background-color:#1290a4 ; color: white; border-color: white;">
			</form>
		</div>
	</div>
	<script>
		placeSearch({
			key: 'dZkVRxibBNjIzj279viNyUC2vEEYKFUl',
			container: document.querySelector('#loc1')
		});
		placeSearch({
			key: 'dZkVRxibBNjIzj279viNyUC2vEEYKFUl',
			container: document.querySelector('#loc2')
		});
	</script>
</body>

</html>